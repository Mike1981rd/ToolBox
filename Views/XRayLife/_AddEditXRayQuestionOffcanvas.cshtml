@* Vista Parcial: Views/XRayLife/_AddEditXRayQuestionOffcanvas.cshtml *@
@{
    // bool isEditMode = ViewData["IsEditMode"] as bool? ?? false;
    // string titleKey = isEditMode ? "offcanvas_edit_xray_question_title" : "offcanvas_add_xray_question_title";
    // var lifeAreasForSelect = ViewBag.LifeAreasForSelect as List<dynamic> ?? new List<dynamic>(); // Pasar desde el controlador
}
<div class="offcanvas offcanvas-end" tabindex="-1" id="addEditXRayQuestionOffcanvas" aria-labelledby="addEditXRayQuestionOffcanvasLabel" style="width: 600px;">
    <div class="offcanvas-header">
        <h5 id="addEditXRayQuestionOffcanvasLabel" class="offcanvas-title">Agregar Nueva Pregunta</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body mx-0 flex-grow-0 pt-0 h-100">
        <form class="add-edit-xray-question-form pt-0" id="addEditXRayQuestionForm">
            <input type="hidden" id="xrayQuestionId" name="Id" value="0">

            <div class="mb-3">
                <label class="form-label" for="xrayLifeAreaCategory">Área de Vida (Categoría)</label>
                <select class="form-select" id="xrayLifeAreaCategory" name="LifeAreaId" required>
                    <option value="">Seleccione un Área de Vida</option>
                    @foreach (var area in (ViewBag.LifeAreasForSelect as List<ToolBox.Models.LifeArea> ?? new List<ToolBox.Models.LifeArea>()))
                    {
                        <option value="@area.Id">@area.Title</option>
                    }
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label" for="xrayQuestionText">Pregunta</label>
                <textarea class="form-control" id="xrayQuestionText" name="QuestionText" rows="5" placeholder="Ingrese el texto de la pregunta..." required></textarea>
            </div>
            
            @* Futuro: Campo para Respuesta (textarea) *@
            @* Futuro: Campo para Estado (Activo/Inactivo) *@

            <div class="mt-4 d-flex">
                <button type="submit" class="btn btn-primary me-2 data-submit flex-grow-1">Guardar</button>
                <button type="reset" class="btn btn-outline-secondary flex-grow-1" data-bs-dismiss="offcanvas">Cancelar</button>
            </div>
        </form>
    </div>
</div>